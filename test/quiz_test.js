(function(){var e,t,s;t=require("assert"),s=require("sinon"),e=require("./../class/quiz.js"),describe("Quiz",function(){return afterEach(function(){var t,s;return"function"==typeof(t=e.prototype.setup).restore&&t.restore(),"function"==typeof(s=e.prototype.setup_questions).restore?s.restore():void 0}),it("should take opts",function(){var s;return s=new e({name:"test_quiz",type:"whatever",num_questions:99}),t("test_quiz"===s.opts.name),t("whatever"===s.opts.type),t(99===s.opts.num_questions)}),it("should should always call setup",function(){var n;return s.stub(e.prototype,"setup",function(){}),n=new e,t(n.setup.called)}),it("should not call setup questions without question_data",function(){var n;return s.stub(e.prototype,"setup_questions",function(){}),n=new e,t(n.setup_questions.called===!1)}),describe("setup_questions",function(){var n;return n={question_data:[[1,"one"],[2,"two"],[3,"three"],[4,"four"],[5,"five"]],num_questions:2,num_choices:2},it("should should call setup_questions",function(){var u;return s.stub(e.prototype,"setup_questions",function(){}),u=new e(n),t(u.setup_questions.called)}),it("should create "+n.num_questions+" questions",function(){var s;return s=new e(n),t(s.questions.length===n.num_questions)}),it("each question should have a question, answer and choices",function(){var s,u,o,r,i,a;for(r=new e(n),i=r.questions,a=[],s=0,u=i.length;u>s;s++)o=i[s],t(o.hasOwnProperty("question")),t(o.hasOwnProperty("answer")),a.push(t(o.hasOwnProperty("choices")));return a}),it("each question should have "+n.num_choices+" choices",function(){var s,u,o,r,i,a;for(r=new e(n),i=r.questions,a=[],s=0,u=i.length;u>s;s++)o=i[s],a.push(t(o.choices.length===n.num_choices));return a})})})}).call(this);